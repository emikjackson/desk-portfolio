<script>
	import { onInterval } from '$lib/helpers.js';

	// Main indices for toggling between heartOne and heartTwo
	export let index = 0;
	export let interval = 2000;

	onInterval(() => (index = (index + 1) % 2), interval);

	// Want to add a little bouncing arm animation, that will be at more frequent intervals
	export let armIndex = 0;
	export let armInterval = 350;

	onInterval(() => (armIndex = (armIndex + 1) % 2), armInterval);

	// Arrays variables for toggling between heartOne and heartTwo
	const armRightPath = [
		'M83 57C83 57 89.5764 59.4241 94.5 58C99.8647 56.4483 104 49.5 104 49.5',
		'M83 57C83 57 87.5764 62.4241 92.5 61C97.8647 59.4483 99 52.5 99 52.5'
	];
	const armLeftPath = [
		'M5.8143 75.5358C5.55791 75.6383 5.4332 75.9293 5.53576 76.1857C5.63832 76.4421 5.9293 76.5668 6.1857 76.4642L5.8143 75.5358ZM15.5 48C15.0046 48.0676 15.0046 48.0675 15.0046 48.0675C15.0046 48.0676 15.0046 48.0676 15.0046 48.0677C15.0046 48.0679 15.0047 48.0683 15.0048 48.0689C15.0049 48.07 15.0051 48.0717 15.0055 48.0742C15.0061 48.079 15.0071 48.0865 15.0084 48.0965C15.011 48.1166 15.0149 48.1469 15.0199 48.1871C15.0299 48.2675 15.0443 48.3872 15.0617 48.5427C15.0963 48.8537 15.1427 49.3078 15.1892 49.8766C15.2821 51.0147 15.375 52.6102 15.375 54.4375C15.375 58.1051 15 62.6536 13.5358 66.3143L14.4642 66.6857C16 62.8464 16.375 58.1449 16.375 54.4375C16.375 52.5773 16.2804 50.954 16.1858 49.7953C16.1385 49.2157 16.0912 48.7518 16.0555 48.4319C16.0377 48.272 16.0228 48.148 16.0123 48.0636C16.007 48.0214 16.0029 47.9891 16 47.9671C15.9986 47.9561 15.9975 47.9476 15.9967 47.9418C15.9963 47.939 15.996 47.9367 15.9958 47.9351C15.9957 47.9344 15.9956 47.9337 15.9955 47.9333C15.9955 47.9331 15.9955 47.9329 15.9955 47.9327C15.9954 47.9326 15.9954 47.9324 15.5 48ZM13.5358 66.3143C12.0669 69.9865 10.1147 72.2983 8.54371 73.688C7.75733 74.3836 7.06482 74.8497 6.57376 75.1398C6.32824 75.2849 6.13317 75.386 6.00204 75.4498C5.93648 75.4816 5.88692 75.5042 5.85506 75.5182C5.83914 75.5253 5.82763 75.5302 5.82077 75.5331C5.81734 75.5345 5.81506 75.5354 5.81398 75.5359C5.81343 75.5361 5.81319 75.5362 5.81324 75.5362C5.81327 75.5362 5.81337 75.5361 5.81355 75.5361C5.81364 75.536 5.81382 75.536 5.81387 75.5359C5.81408 75.5359 5.8143 75.5358 6 76C6.1857 76.4642 6.18596 76.4641 6.18625 76.464C6.18637 76.464 6.18667 76.4638 6.18691 76.4638C6.18739 76.4636 6.18795 76.4633 6.18858 76.4631C6.18985 76.4626 6.19142 76.4619 6.19329 76.4612C6.19704 76.4596 6.20198 76.4576 6.2081 76.455C6.22034 76.4499 6.23728 76.4426 6.2587 76.4332C6.30155 76.4143 6.36235 76.3865 6.43937 76.3491C6.5934 76.2742 6.81239 76.1604 7.08249 76.0008C7.62268 75.6816 8.36767 75.1789 9.20629 74.437C10.8853 72.9517 12.9331 70.5135 14.4642 66.6857L13.5358 66.3143Z',
		'M2.49378 70.9672C2.21777 70.9759 2.00106 71.2067 2.00974 71.4827C2.01842 71.7587 2.24921 71.9754 2.52521 71.9668L2.49378 70.9672ZM21.0131 48.4048C20.5245 48.2988 20.5245 48.2988 20.5245 48.2988C20.5245 48.2988 20.5245 48.2989 20.5245 48.299C20.5244 48.2992 20.5243 48.2996 20.5242 48.3001C20.524 48.3012 20.5236 48.303 20.5231 48.3053C20.522 48.3101 20.5204 48.3175 20.5182 48.3273C20.5138 48.3471 20.5071 48.377 20.498 48.4164C20.4799 48.4954 20.4525 48.6128 20.4156 48.7648C20.3418 49.069 20.2301 49.5115 20.0792 50.0619C19.7773 51.1632 19.3189 52.6942 18.6939 54.4113C17.4395 57.8578 15.5315 62.0037 12.9035 64.9428L13.649 65.6094C16.4052 62.5268 18.3656 58.2371 19.6336 54.7533C20.2698 53.0053 20.7362 51.4476 21.0436 50.3264C21.1974 49.7655 21.3115 49.3134 21.3874 49.0007C21.4254 48.8443 21.4538 48.7227 21.4728 48.6398C21.4823 48.5983 21.4894 48.5665 21.4943 48.5449C21.4967 48.534 21.4985 48.5257 21.4998 48.52C21.5004 48.5172 21.5009 48.515 21.5012 48.5134C21.5014 48.5127 21.5015 48.512 21.5016 48.5116C21.5016 48.5114 21.5017 48.5112 21.5017 48.5111C21.5018 48.5109 21.5018 48.5108 21.0131 48.4048ZM12.9035 64.9428C10.2672 67.8912 7.64213 69.3958 5.69055 70.1644C4.71367 70.5492 3.90353 70.7502 3.34284 70.855C3.06251 70.9073 2.84463 70.9356 2.6996 70.9506C2.62709 70.9582 2.57282 70.9624 2.53807 70.9647C2.5207 70.9659 2.50821 70.9666 2.50078 70.9669C2.49706 70.9671 2.4946 70.9672 2.49343 70.9673C2.49284 70.9673 2.49258 70.9673 2.49263 70.9673C2.49266 70.9673 2.49277 70.9673 2.49296 70.9673C2.49306 70.9673 2.49326 70.9673 2.49331 70.9673C2.49353 70.9673 2.49378 70.9672 2.5095 71.467C2.52521 71.9668 2.5255 71.9667 2.52581 71.9667C2.52594 71.9667 2.52626 71.9667 2.52652 71.9667C2.52704 71.9667 2.52764 71.9667 2.52833 71.9666C2.52969 71.9666 2.53139 71.9665 2.53341 71.9665C2.53745 71.9663 2.5428 71.9661 2.54943 71.9657C2.56269 71.9651 2.58108 71.9641 2.60445 71.9625C2.65118 71.9594 2.7178 71.9541 2.80298 71.9453C2.97334 71.9276 3.21803 71.8956 3.52644 71.838C4.14322 71.7228 5.01522 71.5052 6.057 71.0949C8.14273 70.2734 10.901 68.6826 13.649 65.6094L12.9035 64.9428Z'
	];
	const eyeLeftX = [44, 48];
	const eyeRightX = [64, 68];
	const mouthPath = [
		'M47 51C47 51 48.0465 53.0742 54.6744 52.9979C61.3023 52.9217 62 51 62 51',
		'M51 51C51 51 51.8721 49.5762 58.5 49.5C65.1279 49.4238 66 51 66 51'
	];
	const eyebrowLeftPath = [
		'M41 37C41 37 41.4186 35.9629 44.0698 36.001C46.7209 36.0391 47 37 47 37',
		'M45 37C45 37 45.3488 37.9619 48 38C50.6512 38.0381 51 37 51 37'
	];
	const eyebrowRightPath = [
		'M61 37C61 37 61.4186 35.9629 64.0698 36.001C66.7209 36.0391 67 37 67 37',
		'M65.2101 36.7109C65.2101 36.7109 65.3653 35.6034 67.947 34.999C70.5286 34.3946 71.0318 35.2594 71.0318 35.2594'
	];
	const magnifyingGlassOne = [
		'M103.744 55.4561L99.9817 45.1195C99.6039 44.0815 100.139 42.9339 101.177 42.5561C102.215 42.1783 103.363 42.7135 103.74 43.7514L107.503 54.088C107.88 55.126 107.345 56.2737 106.307 56.6515C105.269 57.0292 104.122 56.4941 103.744 55.4561Z',
		'M99.7108 57.982L94.0453 48.5532C93.4764 47.6064 93.7828 46.3777 94.7296 45.8088C95.6764 45.2399 96.9051 45.5462 97.474 46.493L103.139 55.9219C103.708 56.8687 103.402 58.0974 102.455 58.6663C101.508 59.2352 100.28 58.9288 99.7108 57.982Z'
	];
	const magnifyingGlassTwo = [
		'M101.861 44.4355C107.57 42.3576 110.513 36.0454 108.435 30.3366C106.358 24.6279 100.045 21.6844 94.3366 23.7622C88.6279 25.84 85.6844 32.1523 87.7622 37.8611C89.84 43.5698 96.1523 46.5133 101.861 44.4355ZM100.835 41.6164C104.987 40.1052 107.128 35.5145 105.616 31.3627C104.105 27.2109 99.5145 25.0702 95.3627 26.5813C91.2109 28.0924 89.0702 32.6832 90.5813 36.835C92.0924 40.9868 96.6832 43.1275 100.835 41.6164Z',
		'M95.7597 47.5231C100.967 44.3942 102.652 37.6362 99.5231 32.4288C96.3942 27.2214 89.6362 25.5365 84.4288 28.6654C79.2214 31.7943 77.5365 38.5523 80.6654 43.7597C83.7943 48.9671 90.5523 50.652 95.7597 47.5231ZM94.2146 44.9516C98.0018 42.676 99.2272 37.7612 96.9516 33.974C94.676 30.1868 89.7612 28.9613 85.974 31.2369C82.1868 33.5125 80.9613 38.4274 83.2369 42.2146C85.5125 46.0018 90.4274 47.2272 94.2146 44.9516Z'
	];
	const magnifyingGlassThree = [
		'M101.861 44.4355C107.57 42.3576 110.513 36.0454 108.435 30.3366C106.358 24.6279 100.045 21.6844 94.3366 23.7622C88.6279 25.84 85.6844 32.1523 87.7622 37.8611C89.84 43.5698 96.1523 46.5133 101.861 44.4355ZM100.835 41.6164C104.987 40.1052 107.128 35.5145 105.616 31.3627C104.105 27.2109 99.5145 25.0702 95.3627 26.5813C91.2109 28.0924 89.0702 32.6832 90.5813 36.835C92.0924 40.9868 96.6832 43.1275 100.835 41.6164Z',
		'M95.7597 47.5231C100.967 44.3942 102.652 37.6362 99.5231 32.4288C96.3942 27.2214 89.6362 25.5365 84.4288 28.6654C79.2214 31.7943 77.5365 38.5523 80.6654 43.7597C83.7943 48.9671 90.5523 50.652 95.7597 47.5231ZM94.2146 44.9516C98.0018 42.676 99.2272 37.7612 96.9516 33.974C94.676 30.1868 89.7612 28.9613 85.974 31.2369C82.1868 33.5125 80.9613 38.4274 83.2369 42.2146C85.5125 46.0018 90.4274 47.2272 94.2146 44.9516Z'
	];
	const magnifyingGlassFour = [
		'M107.496 30.6786C109.385 35.8684 106.709 41.6068 101.519 43.4958L102.203 45.3752C108.431 43.1084 111.642 36.2223 109.375 29.9946L107.496 30.6786ZM94.6786 24.7019C99.8684 22.813 105.607 25.4889 107.496 30.6786L109.375 29.9946C107.108 23.7669 100.222 20.5558 93.9946 22.8225L94.6786 24.7019ZM88.7019 37.519C86.813 32.3293 89.4889 26.5908 94.6786 24.7019L93.9946 22.8225C87.7669 25.0892 84.5558 31.9753 86.8225 38.2031L88.7019 37.519ZM101.519 43.4958C96.3293 45.3847 90.5908 42.7088 88.7019 37.519L86.8225 38.2031C89.0892 44.4308 95.9753 47.6419 102.203 45.3752L101.519 43.4958ZM104.677 31.7047C105.999 35.3375 104.126 39.3544 100.493 40.6767L101.177 42.5561C105.848 40.856 108.256 35.6915 106.556 31.0207L104.677 31.7047ZM95.7047 27.521C99.3375 26.1987 103.354 28.0719 104.677 31.7047L106.556 31.0207C104.856 26.3499 99.6915 23.9416 95.0207 25.6416L95.7047 27.521ZM91.521 36.493C90.1987 32.8601 92.0719 28.8432 95.7047 27.521L95.0207 25.6416C90.3499 27.3416 87.9416 32.5062 89.6416 37.177L91.521 36.493ZM100.493 40.6767C96.8601 41.9989 92.8432 40.1258 91.521 36.493L89.6416 37.177C91.3416 41.8478 96.5062 44.2561 101.177 42.5561L100.493 40.6767Z',
		'M98.6659 32.9439C101.51 37.6779 99.9786 43.8215 95.2446 46.6659L96.2747 48.3803C101.956 44.9669 103.794 37.5946 100.38 31.9138L98.6659 32.9439ZM84.9439 29.5226C89.6779 26.6781 95.8215 28.2099 98.6659 32.9439L100.38 31.9138C96.9669 26.233 89.5946 24.3949 83.9138 27.8083L84.9439 29.5226ZM81.5226 43.2446C78.6781 38.5106 80.2099 32.3671 84.9439 29.5226L83.9138 27.8083C78.233 31.2216 76.3949 38.5939 79.8083 44.2747L81.5226 43.2446ZM95.2446 46.6659C90.5106 49.5104 84.3671 47.9786 81.5226 43.2446L79.8083 44.2747C83.2216 49.9555 90.5939 51.7936 96.2747 48.3803L95.2446 46.6659ZM96.0944 34.489C98.0856 37.8028 97.0133 42.1033 93.6995 44.0944L94.7296 45.8088C98.9902 43.2487 100.369 37.7195 97.8088 33.4589L96.0944 34.489ZM86.489 32.0941C89.8028 30.103 94.1033 31.1752 96.0944 34.489L97.8088 33.4589C95.2487 29.1983 89.7195 27.8197 85.4589 30.3798L86.489 32.0941ZM84.0941 41.6995C82.103 38.3857 83.1752 34.0852 86.489 32.0941L85.4589 30.3798C81.1983 32.9398 79.8197 38.469 82.3798 42.7296L84.0941 41.6995ZM93.6995 44.0944C90.3857 46.0856 86.0852 45.0133 84.0941 41.6995L82.3798 42.7296C84.9398 46.9902 90.469 48.3688 94.7296 45.8088L93.6995 44.0944Z'
	];
	const reflection = [
		{ cx: '99.8487', cy: '28.6732', transform: 'rotate(-20 99.8487 28.6732)' },
		{ cx: '90.7767', cy: '32.4344', transform: 'rotate(-31 90.7767 32.4344)' }
	];
</script>

<!-- The actual SVG with inserted variables -->
<svg width="117" height="109" viewBox="0 0 117 109" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect width="117" height="109" />
	<g id="heart_one">
		<ellipse id="shadow" cx="50" cy="106" rx="28" ry="3" fill="#1E1E1E" fill-opacity="0.11" />
		<path id="left-leg" d="M39 79V105.5" stroke="#1F1F1F" stroke-linecap="round" />
		<path id="right-leg" d="M59 79V105.5" stroke="#1F1F1F" stroke-linecap="round" />
		<g id="Group 1">
			<path id="arm-right" d={armRightPath[index]} stroke="#1F1F1F" stroke-linecap="round" />
			<path id="arm-left" d={index === 0 ? armLeftPath[armIndex] : armLeftPath[1]} fill="#1F1F1F" />
			<g id="heart">
				<path
					d="M100 25C100 67 50 93.5 50 93.5C50 93.5 50 34.3071 50 20.5C55 8.5 61.1929 0 75 0C88.8071 0 100 11.1929 100 25Z"
					fill="#D82543"
				/>
				<path
					d="M0 25C0 67.5 50 93.5 50 93.5C50 93.5 50 34.3071 50 20.5C45 8.5 38.8071 0 25 0C11.1929 0 0 11.1929 0 25Z"
					fill="#D82543"
				/>
			</g>
			<g id="Group 2">
				<circle id="eye_left" cx={eyeLeftX[index]} cy="43" r="3" fill="#1F1F1F" />
				<circle id="eye-right" cx={eyeRightX[index]} cy="43" r="3" fill="#1F1F1F" />
				<path id="mouth" d={mouthPath[index]} stroke="#1F1F1F" stroke-linecap="round" />
				<path
					id="eyebrow-left"
					d={eyebrowLeftPath[index]}
					stroke="#1F1F1F"
					stroke-linecap="round"
				/>
				<path
					id="eyebrow-right"
					d={eyebrowRightPath[index]}
					stroke="#1F1F1F"
					stroke-linecap="round"
				/>
			</g>
			<g id="Magnifying glass">
				<path
					id="Vector 5"
					d={magnifyingGlassOne[index]}
					fill="#EFD386"
					stroke="#1F1F1F"
					stroke-linecap="round"
				/>
				<g id="Subtract">
					<mask id="path-13-inside-1_0_1" fill="white">
						<path fill-rule="evenodd" clip-rule="evenodd" d={magnifyingGlassTwo[index]} />
					</mask>
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						fill="#EFD386"
						d={magnifyingGlassThree[index]}
					/>
					<path d={magnifyingGlassFour[index]} fill="#1F1F1F" mask="url(#path-13-inside-1_0_1)" />
				</g>
				<circle
					id="Ellipse 10"
					cx={reflection[index].cx}
					cy={reflection[index].cy}
					r="1.5"
					transform={reflection[index].transform}
					fill="white"
					fill-opacity="0.38"
				/>
			</g>
		</g>
	</g>
</svg>

<style>
	path {
		transition: all 1s ease;
	}
	circle {
		transition: all 1s ease;
	}
</style>
